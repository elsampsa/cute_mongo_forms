
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>About this module &#8212; cute_mongo_forms 0.1 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="requirements.html" />
    <link rel="prev" title="Cute Mongo Forms" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="requirements.html" title="Installation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Cute Mongo Forms"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">cute_mongo_forms 0.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="intro"></span><div class="section" id="about-this-module">
<h1>About this module<a class="headerlink" href="#about-this-module" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Word of warning: this is not your traditional database/object mapper - if you need a lightweight orm for mongo, check out <a class="reference external" href="https://github.com/elsampsa/mongo_map">this project</a> instead.</p>
<p>This module is about creating graphical user interfaces in Qt that interact with an underlying programming logic and a document database (say, MongoDB) in an automatic fashion.</p>
<p>Both the view, database patterns (“model” or “schema”) and field validations are declared in one-shot:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PersonRow</span><span class="p">(</span><span class="n">Row</span><span class="p">):</span>
  <span class="n">columns</span><span class="o">=</span><span class="p">[</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;firstname&quot;</span><span class="p">,</span> <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;First Name&quot;</span><span class="p">),</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;surname&quot;</span><span class="p">,</span>   <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;Surname&quot;</span><span class="p">),</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;address&quot;</span><span class="p">,</span>   <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;Address&quot;</span><span class="p">)</span>
  <span class="p">]</span>
</pre></div>
</div>
<p>This declares a column structure in a document database (“schema”).  It also declares an autogenerated Qt form that is presented to the user (view).  The Qt form can also validate the input fields with a QValidator.</p>
<p>Relations are declared like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PersonRowExtended</span><span class="p">(</span><span class="n">Row</span><span class="p">):</span>
  <span class="n">columns</span><span class="o">=</span><span class="p">[</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;firstname&quot;</span><span class="p">,</span> <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;First Name&quot;</span><span class="p">),</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;secondname&quot;</span><span class="p">,</span><span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;Second Name&quot;</span><span class="p">),</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;surname&quot;</span><span class="p">,</span>   <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;Surname&quot;</span><span class="p">),</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;address&quot;</span><span class="p">,</span>   <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;Address&quot;</span><span class="p">),</span>
    <span class="c1"># let&#39;s specify a relation to &quot;food_collection&quot;</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">ListEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;foods&quot;</span><span class="p">,</span>     <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;Favorite foods&quot;</span><span class="p">,</span>  <span class="n">collection</span><span class="o">=</span><span class="n">food_collection</span><span class="p">,</span> <span class="n">foreign_label_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
  <span class="p">]</span>
</pre></div>
</div>
<p>In the <em>PersonRowExtended</em> row class, the last columns corresponds to a list (<em>ListEditColumn</em>) where user can choose several foods.  The details of each food are found in the <em>food_collection</em> (that can be a simple collection or a MongoDB).</p>
<p>A collection is instantiated by passing it the row classes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">collection</span><span class="o">=</span><span class="n">SimpleCollection</span><span class="p">(</span>
  <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;simple_test.db&quot;</span><span class="p">,</span>
  <span class="n">row_classes</span><span class="o">=</span><span class="p">[</span><span class="n">PersonRow</span><span class="p">,</span><span class="n">PersonRowExtended</span><span class="p">]</span>
  <span class="p">)</span>
</pre></div>
</div>
<p>In this example, the collection can have two different row structures corresponding to <em>PersonRow</em> and <em>PersonRowExtended</em>.</p>
</div>
<div class="section" id="what-it-does">
<h2>What it does?<a class="headerlink" href="#what-it-does" title="Permalink to this headline">¶</a></h2>
<p>Once you instantiate a row</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">person_row</span> <span class="o">=</span><span class="n">PersonRow</span><span class="p">()</span>
</pre></div>
</div>
<p>You’ll get for “free” the corresponding QWidget form (at the “widget” member) that you can parent to your Qt program, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">person_row</span><span class="o">.</span><span class="n">widget</span> <span class="c1"># the QtWidget form</span>
<span class="n">person_row</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="n">some_parent_widget</span><span class="p">)</span> <span class="c1"># let&#39;s parent it to someone</span>
</pre></div>
</div>
<p>However, normally you don’t instantiate the Row classes (and the associated QtWidget forms) yourself, but leave that to “containers”, such as the <em>FormSet</em> container:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">formset</span><span class="o">=</span><span class="n">FormSet</span><span class="p">(</span><span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Formset</em> gets from “collection” the Row classes (that we just declared - see above), instantiates them and places their widgets correctly in place inside the container’s own widget (accessible in <em>formset.widget</em>).</p>
<p><strong>The container uses the database to update the data in the Row’s QtWidget forms automatically</strong>, displays the the correct form in question (<em>PersonRow</em> or <em>PersonRowExtended</em>) and writes the database, according to user’s interaction with the QtWidget forms.</p>
<p>In a more traditional db/object mapper, the data is placed in an “intermediate layer”, i.e. into an object that gives easy access to the data and may perform type etc. checking on the data.  Here that object is the QtWidget itself!  If you want certain type of constraints to the data, create a custom Column class and there, use a QValidator.  This way your data is always validated.</p>
</div>
<div class="section" id="try-it-out">
<h2>Try it out<a class="headerlink" href="#try-it-out" title="Permalink to this headline">¶</a></h2>
<p>Brave enough to give it a try?</p>
<p>An example tells more than thousand explanatory words, so take a look at the <a class="reference internal" href="tutorial.html#id1"><span class="std std-ref">tutorial.</span></a></p>
<p>The prerequisites are, that you are quite familiar with Python, Qt and their combination, PyQt.</p>
<p>There is a more complex example available (with a larger schema and several relations using MongoDB) <a class="reference internal" href="example.html#example"><span class="std std-ref">here.</span></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">About this module</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#what-it-does">What it does?</a></li>
<li><a class="reference internal" href="#try-it-out">Try it out</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Cute Mongo Forms</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="requirements.html"
                        title="next chapter">Installation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/intro.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="requirements.html" title="Installation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Cute Mongo Forms"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">cute_mongo_forms 0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017-2018 Sampsa Riikonen.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>