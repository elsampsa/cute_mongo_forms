

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>About this module &mdash; cute_mongo_forms 0.2.3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="requirements.html" />
    <link rel="prev" title="Cute Mongo Forms" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> cute_mongo_forms
          

          
          </a>

          
            
            
              <div class="version">
                0.2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">About this module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-it-does">What it does?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#try-it-out">Try it out</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="submodules.html">Submodule documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">cute_mongo_forms</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>About this module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/intro.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="intro"></span><div class="section" id="about-this-module">
<h1>About this module<a class="headerlink" href="#about-this-module" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Word of warning: this is not your traditional database/object mapper - if you need a lightweight orm for mongo, check out <a class="reference external" href="https://github.com/elsampsa/mongo_map">this project</a> instead.</p>
<p>This module is about creating graphical user interfaces in Qt that interact with an underlying programming logic and a document database (say, MongoDB) in an automatic fashion.</p>
<p>Both the view, database patterns (“model” or “schema”) and field validations are declared in one-shot:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PersonRow</span><span class="p">(</span><span class="n">Row</span><span class="p">):</span>
  <span class="n">columns</span><span class="o">=</span><span class="p">[</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;firstname&quot;</span><span class="p">,</span> <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;First Name&quot;</span><span class="p">),</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;surname&quot;</span><span class="p">,</span>   <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;Surname&quot;</span><span class="p">),</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;address&quot;</span><span class="p">,</span>   <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;Address&quot;</span><span class="p">)</span>
  <span class="p">]</span>
</pre></div>
</div>
<p>This declares a column structure in a document database (“schema”).  It also declares an autogenerated Qt form that is presented to the user (view).  The Qt form can also validate the input fields with a QValidator.</p>
<p>Relations are declared like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PersonRowExtended</span><span class="p">(</span><span class="n">Row</span><span class="p">):</span>
  <span class="n">columns</span><span class="o">=</span><span class="p">[</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;firstname&quot;</span><span class="p">,</span> <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;First Name&quot;</span><span class="p">),</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;secondname&quot;</span><span class="p">,</span><span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;Second Name&quot;</span><span class="p">),</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;surname&quot;</span><span class="p">,</span>   <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;Surname&quot;</span><span class="p">),</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">LineEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;address&quot;</span><span class="p">,</span>   <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;Address&quot;</span><span class="p">),</span>
    <span class="c1"># let&#39;s specify a relation to &quot;food_collection&quot;</span>
    <span class="n">ColumnSpec</span><span class="p">(</span><span class="n">ListEditColumn</span><span class="p">,</span> <span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;foods&quot;</span><span class="p">,</span>     <span class="n">label_name</span><span class="o">=</span><span class="s2">&quot;Favorite foods&quot;</span><span class="p">,</span>  <span class="n">collection</span><span class="o">=</span><span class="n">food_collection</span><span class="p">,</span> <span class="n">foreign_label_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
  <span class="p">]</span>
</pre></div>
</div>
<p>In the <em>PersonRowExtended</em> row class, the last columns corresponds to a list (<em>ListEditColumn</em>) where user can choose several foods.  The details of each food are found in the <em>food_collection</em> (that can be a simple collection or a MongoDB).</p>
<p>A collection is instantiated by passing it the row classes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">collection</span><span class="o">=</span><span class="n">SimpleCollection</span><span class="p">(</span>
  <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;simple_test.db&quot;</span><span class="p">,</span>
  <span class="n">row_classes</span><span class="o">=</span><span class="p">[</span><span class="n">PersonRow</span><span class="p">,</span><span class="n">PersonRowExtended</span><span class="p">]</span>
  <span class="p">)</span>
</pre></div>
</div>
<p>In this example, the collection can have two different row structures corresponding to <em>PersonRow</em> and <em>PersonRowExtended</em>.</p>
</div>
<div class="section" id="what-it-does">
<h2>What it does?<a class="headerlink" href="#what-it-does" title="Permalink to this headline">¶</a></h2>
<p>Once you instantiate a row</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">person_row</span> <span class="o">=</span><span class="n">PersonRow</span><span class="p">()</span>
</pre></div>
</div>
<p>You’ll get for “free” the corresponding QWidget form (at the “widget” member) that you can parent to your Qt program, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">person_row</span><span class="o">.</span><span class="n">widget</span> <span class="c1"># the QtWidget form</span>
<span class="n">person_row</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="n">some_parent_widget</span><span class="p">)</span> <span class="c1"># let&#39;s parent it to someone</span>
</pre></div>
</div>
<p>However, normally you don’t instantiate the Row classes (and the associated QtWidget forms) yourself, but leave that to “containers”, such as the <em>FormSet</em> container:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">formset</span><span class="o">=</span><span class="n">FormSet</span><span class="p">(</span><span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Formset</em> gets from “collection” the Row classes (that we just declared - see above), instantiates them and places their widgets correctly in place inside the container’s own widget (accessible in <em>formset.widget</em>).</p>
<p><strong>The container uses the database to update the data in the Row’s QtWidget forms automatically</strong>, displays the the correct form in question (<em>PersonRow</em> or <em>PersonRowExtended</em>) and writes the database, according to user’s interaction with the QtWidget forms.</p>
<p>In a more traditional db/object mapper, the data is placed in an “intermediate layer”, i.e. into an object that gives easy access to the data and may perform type etc. checking on the data.  Here that object is the QtWidget itself!  If you want certain type of constraints to the data, create a custom Column class and there, use a QValidator.  This way your data is always validated.</p>
</div>
<div class="section" id="try-it-out">
<h2>Try it out<a class="headerlink" href="#try-it-out" title="Permalink to this headline">¶</a></h2>
<p>Brave enough to give it a try?</p>
<p>An example tells more than thousand explanatory words, so take a look at the <a class="reference internal" href="tutorial.html#id1"><span class="std std-ref">tutorial.</span></a></p>
<p>The prerequisites are, that you are quite familiar with Python, Qt and their combination, PyQt.</p>
<p>There is a more complex example available (with a larger schema and several relations using MongoDB) <a class="reference internal" href="example.html#example"><span class="std std-ref">here.</span></a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="requirements.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Cute Mongo Forms" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018 Sampsa Riikonen.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.3',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>